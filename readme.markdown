blacklight-querystring
======================

[![Build Status](https://travis-ci.org/LafayetteCollegeLibraries/blacklight-querystring.svg?branch=master)](https://travis-ci.org/LafayetteCollegeLibraries/blacklight-querystring) [![NPM Version](https://img.shields.io/npm/v/blacklight-querystring.svg)](https://npmjs.com/package/blacklight-querystring)

Parse/stringify [Blacklight][1] querystrings to/from normalized search objects. 

```
npm install blacklight-querystring
```

usage
-----

```javascript
var blqs = require('blacklight-querystring')
```

### `blqs.parse(qs)`

Parses a querystring generated by Blacklight into an object with `query`,
`facets`, and `options` keys. Facet groups are cleaned, removing the `f[`
and `][]` wrappers. Form-encoded spaces (`+`) are split and values are 
uri-decoded.

```javascript
var qs = window.location.search
// ?q=cats+and+dogs&f%5Bformat_physical%5D%5B%5D=Videocassette+(VHS)&per_page=25

var parsed = blqs.parse(qs)
//{
//  query: 'cats and dogs',
//  facets: {
//    format_physical: ['Videocassette (VHS)'],
//  },
//  options: {
//    per_page: 25
//  }
//}
```

### `blqs.stringify(obj)`

Converts an object with keys `query`, `facets`, and `options` into a querystring
recognized by Blacklight.

```javascript
var queryObj = {
  query: 'cats and dogs',
  facets: {
    format_physical: ['Videocassette (VHS)'],
  },
  options: {
    per_page: 25
  }
}

var stringified = blqs.stringify(queryObj)

// q=cats+and+dogs&f%5Bformat_physical%5D%5B%5D=Videocassette+(VHS)&per_page=25
```

license
-------
GPL-3.0

[1]: http://www.projectblacklight.org
